---
import BaseLayout from '../layouts/BaseLayout.astro';
import TrustBar from '../components/sections/TrustBar.astro';
import GoogleReviews from '../components/sections/GoogleReviews.astro';

const seoTitle = "24/7 Emergency Handyman Services Charlotte NC | iFixx";
const seoDescription = "Need emergency home repairs in Charlotte? iFixx provides 24/7 emergency plumbing, electrical, and handyman services. Fast response, fair prices. Call now: (980) 391-6833";

const phoneNumber = "(980) 391-6833";
const phoneHref = "tel:+19803916833";

// Emergency services list
const emergencyServices = [
  {
    title: "Emergency Plumbing",
    description: "Burst pipes, severe leaks, clogged drains, water heater failures, and sewer backups.",
    icon: "plumbing",
    issues: ["Burst or frozen pipes", "Severe water leaks", "Clogged toilets/drains", "Water heater failures", "Sewer line backups"]
  },
  {
    title: "Emergency Electrical",
    description: "Power outages, sparking outlets, electrical fires, and safety hazards.",
    icon: "electrical",
    issues: ["Sparking outlets", "Partial power outages", "Burning smell from wiring", "Tripped breakers that won't reset", "Exposed wires"]
  },
  {
    title: "Water Damage Response",
    description: "Flooding, water extraction, damage assessment, and emergency repairs.",
    icon: "water",
    issues: ["Flooding from any source", "Water extraction needs", "Ceiling leaks", "Appliance leaks", "Storm damage"]
  },
  {
    title: "Emergency Repairs",
    description: "Broken doors, windows, locks, and other urgent home security issues.",
    icon: "repair",
    issues: ["Broken door locks", "Shattered windows", "HVAC emergencies", "Gas leak response", "Fallen tree damage"]
  }
];

// Emergency Service Schema - Optimized for 24/7 visibility
const emergencyServiceSchema = {
  "@context": "https://schema.org",
  "@type": "Service",
  "name": "24/7 Emergency Handyman Services",
  "description": seoDescription,
  "serviceType": "Emergency Home Repair",
  "url": "https://ifixxnc.com/emergency-services",
  "image": "https://ifixxnc.com/images/ui/hero-bg.jpg",
  "provider": {
    "@type": "HomeAndConstructionBusiness",
    "@id": "https://ifixxnc.com/#business",
    "name": "iFixx Remodeling & Handyman Services",
    "url": "https://ifixxnc.com",
    "telephone": "+1-980-391-6833",
    "email": "ifixx.hs@gmail.com"
  },
  "areaServed": [
    { "@type": "City", "name": "Charlotte", "containedInPlace": { "@type": "State", "name": "North Carolina" } },
    { "@type": "City", "name": "Matthews", "containedInPlace": { "@type": "State", "name": "North Carolina" } },
    { "@type": "City", "name": "Waxhaw", "containedInPlace": { "@type": "State", "name": "North Carolina" } },
    { "@type": "City", "name": "Pineville", "containedInPlace": { "@type": "State", "name": "North Carolina" } },
    { "@type": "City", "name": "Monroe", "containedInPlace": { "@type": "State", "name": "North Carolina" } },
    { "@type": "City", "name": "Rock Hill", "containedInPlace": { "@type": "State", "name": "South Carolina" } }
  ],
  "availableChannel": {
    "@type": "ServiceChannel",
    "serviceUrl": "https://ifixxnc.com/emergency-services",
    "servicePhone": "+1-980-391-6833",
    "serviceSmsNumber": "+1-980-391-6833",
    "availableLanguage": ["English", "Spanish"]
  },
  "hoursAvailable": {
    "@type": "OpeningHoursSpecification",
    "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
    "opens": "00:00",
    "closes": "23:59",
    "description": "24/7 Emergency Service"
  },
  "providerMobility": "dynamic",
  "termsOfService": "Emergency service calls may have additional fees outside regular business hours.",
  "offers": {
    "@type": "Offer",
    "availability": "https://schema.org/InStock",
    "priceCurrency": "USD",
    "price": "Contact for Quote",
    "validFrom": "2024-01-01"
  },
  "potentialAction": {
    "@type": "CommunicateAction",
    "name": "Call for Emergency Service",
    "target": {
      "@type": "EntryPoint",
      "urlTemplate": "tel:+19803916833"
    }
  }
};

// FAQ Schema for emergency services
const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "Do you offer 24/7 emergency services?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes! iFixx provides 24/7 emergency services for plumbing, electrical, and other urgent home repairs in Charlotte, NC and surrounding areas. Call (980) 391-6833 anytime."
      }
    },
    {
      "@type": "Question",
      "name": "How fast can you respond to an emergency?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "For emergencies in Charlotte and nearby areas, we typically respond within 1-2 hours. Our team is always on-call and ready to help."
      }
    },
    {
      "@type": "Question",
      "name": "Are emergency services more expensive?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Emergency calls outside regular business hours (7am-6pm Mon-Fri, 8am-2pm Sat) may have an additional service fee. We always provide upfront pricing before starting any work."
      }
    },
    {
      "@type": "Question",
      "name": "What areas do you serve for emergency calls?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "We provide emergency services throughout Charlotte, Matthews, Waxhaw, Pineville, Monroe, Rock Hill, and surrounding areas within a 30-mile radius."
      }
    }
  ]
};

// Breadcrumb schema
const breadcrumbSchema = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://ifixxnc.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Emergency Services",
      "item": "https://ifixxnc.com/emergency-services"
    }
  ]
};
---

<BaseLayout
  title={seoTitle}
  description={seoDescription}
  canonical="/emergency-services"
>
  <Fragment slot="schema">
    <script type="application/ld+json" set:html={JSON.stringify(emergencyServiceSchema)} />
    <script type="application/ld+json" set:html={JSON.stringify(faqSchema)} />
    <script type="application/ld+json" set:html={JSON.stringify(breadcrumbSchema)} />
  </Fragment>

  <!-- Emergency Hero - High urgency design -->
  <section class="relative bg-neutral-900 overflow-hidden">
    <!-- Background with emergency feel -->
    <div class="absolute inset-0 z-0">
      <div class="absolute inset-0 bg-gradient-to-br from-red-900/90 via-neutral-900/95 to-neutral-900"></div>
    </div>

    <div class="container relative z-10">
      <div class="py-16 lg:py-24">
        <!-- Breadcrumb -->
        <nav class="mb-6">
          <ol class="flex items-center gap-2 text-sm text-neutral-400">
            <li><a href="/" class="hover:text-white transition-colors">Home</a></li>
            <li class="text-neutral-600">/</li>
            <li class="text-white font-medium">Emergency Services</li>
          </ol>
        </nav>

        <div class="max-w-3xl">
          <!-- 24/7 Badge -->
          <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-red-600 text-white font-bold text-sm mb-6">
            <span class="w-2 h-2 rounded-full bg-white animate-pulse"></span>
            24/7 EMERGENCY SERVICE
          </div>

          <h1 class="text-4xl lg:text-5xl xl:text-6xl font-heading font-bold text-white mb-6 leading-tight">
            Emergency Home Repairs<br />
            <span class="text-red-400">When You Need Us Most</span>
          </h1>

          <p class="text-xl text-neutral-200 mb-8 max-w-2xl">
            Burst pipe? Power outage? Don't wait until morning. Our emergency team is ready 24/7 to handle urgent repairs in Charlotte and surrounding areas.
          </p>

          <!-- Emergency CTA - Prominent phone -->
          <div class="flex flex-col sm:flex-row gap-4">
            <a
              href={phoneHref}
              class="btn bg-red-600 hover:bg-red-700 text-white text-xl px-10 py-5 shadow-lg shadow-red-600/30"
              data-event="phone_click"
            >
              <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
              </svg>
              Call Now: {phoneNumber}
            </a>
            <a href="/contact" class="btn btn-outline-light text-lg px-8 py-5">
              Request Callback
            </a>
          </div>

          <!-- Response time promise -->
          <p class="mt-6 text-neutral-400 text-sm">
            Average response time: <span class="text-white font-semibold">Under 2 hours</span> in Charlotte metro area
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Trust Bar -->
  <TrustBar variant="dark" />

  <!-- Emergency Services Grid -->
  <section class="section">
    <div class="container">
      <div class="text-center max-w-2xl mx-auto mb-12">
        <h2 class="text-3xl lg:text-4xl font-heading font-bold text-neutral-900 mb-4">
          Emergency Services We Provide
        </h2>
        <p class="text-lg text-neutral-600">
          No matter the hour, our skilled technicians are ready to handle your urgent home repairs.
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        {emergencyServices.map((service) => (
          <div class="bg-white rounded-2xl shadow-lg border border-neutral-100 overflow-hidden">
            <div class="p-8">
              <!-- Icon & Title -->
              <div class="flex items-start gap-4 mb-4">
                <div class="w-14 h-14 rounded-xl bg-red-100 flex items-center justify-center flex-shrink-0">
                  {service.icon === 'plumbing' && (
                    <svg class="w-7 h-7 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
                    </svg>
                  )}
                  {service.icon === 'electrical' && (
                    <svg class="w-7 h-7 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" />
                    </svg>
                  )}
                  {service.icon === 'water' && (
                    <svg class="w-7 h-7 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707" />
                    </svg>
                  )}
                  {service.icon === 'repair' && (
                    <svg class="w-7 h-7 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                      <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                  )}
                </div>
                <div>
                  <h3 class="text-xl font-heading font-bold text-neutral-900 mb-1">
                    {service.title}
                  </h3>
                  <p class="text-neutral-600 text-sm">
                    {service.description}
                  </p>
                </div>
              </div>

              <!-- Issues we handle -->
              <div class="mt-4 pt-4 border-t border-neutral-100">
                <p class="text-sm font-semibold text-neutral-700 mb-3">Common emergencies we handle:</p>
                <ul class="grid grid-cols-1 gap-2">
                  {service.issues.map((issue) => (
                    <li class="flex items-center gap-2 text-sm text-neutral-600">
                      <svg class="w-4 h-4 text-red-500 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                      </svg>
                      {issue}
                    </li>
                  ))}
                </ul>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- What to Expect -->
  <section class="section section-alt">
    <div class="container">
      <div class="text-center max-w-2xl mx-auto mb-12">
        <h2 class="text-3xl lg:text-4xl font-heading font-bold text-neutral-900 mb-4">
          What to Expect When You Call
        </h2>
        <p class="text-lg text-neutral-600">
          We make emergency service simple and stress-free.
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto">
        <div class="text-center">
          <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-red-100 flex items-center justify-center">
            <span class="text-2xl font-heading font-bold text-red-600">1</span>
          </div>
          <h3 class="text-lg font-heading font-semibold text-neutral-900 mb-2">
            Call Our 24/7 Line
          </h3>
          <p class="text-neutral-600 text-sm">
            Speak directly with our emergency dispatcher who will assess your situation.
          </p>
        </div>

        <div class="text-center">
          <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-red-100 flex items-center justify-center">
            <span class="text-2xl font-heading font-bold text-red-600">2</span>
          </div>
          <h3 class="text-lg font-heading font-semibold text-neutral-900 mb-2">
            Fast Dispatch
          </h3>
          <p class="text-neutral-600 text-sm">
            A qualified technician is dispatched immediately. Average arrival: under 2 hours.
          </p>
        </div>

        <div class="text-center">
          <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-red-100 flex items-center justify-center">
            <span class="text-2xl font-heading font-bold text-red-600">3</span>
          </div>
          <h3 class="text-lg font-heading font-semibold text-neutral-900 mb-2">
            Problem Solved
          </h3>
          <p class="text-neutral-600 text-sm">
            We diagnose, provide upfront pricing, and complete repairs on the spot when possible.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQs -->
  <section class="section">
    <div class="container">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-2xl lg:text-3xl font-heading font-bold text-neutral-900 mb-8 text-center">
          Emergency Service FAQs
        </h2>

        <div class="space-y-4">
          <details class="group bg-neutral-50 rounded-xl p-6" open>
            <summary class="flex items-center justify-between cursor-pointer list-none">
              <span class="font-semibold text-neutral-900 pr-4">Do you offer 24/7 emergency services?</span>
              <svg class="w-5 h-5 text-neutral-500 group-open:rotate-180 transition-transform flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </summary>
            <p class="mt-4 text-neutral-600 leading-relaxed">
              Yes! iFixx provides 24/7 emergency services for plumbing, electrical, and other urgent home repairs in Charlotte, NC and surrounding areas. Call <a href={phoneHref} class="text-red-600 font-semibold">{phoneNumber}</a> anytime.
            </p>
          </details>

          <details class="group bg-neutral-50 rounded-xl p-6">
            <summary class="flex items-center justify-between cursor-pointer list-none">
              <span class="font-semibold text-neutral-900 pr-4">How fast can you respond to an emergency?</span>
              <svg class="w-5 h-5 text-neutral-500 group-open:rotate-180 transition-transform flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </summary>
            <p class="mt-4 text-neutral-600 leading-relaxed">
              For emergencies in Charlotte and nearby areas, we typically respond within 1-2 hours. Our team is always on-call and ready to help.
            </p>
          </details>

          <details class="group bg-neutral-50 rounded-xl p-6">
            <summary class="flex items-center justify-between cursor-pointer list-none">
              <span class="font-semibold text-neutral-900 pr-4">Are emergency services more expensive?</span>
              <svg class="w-5 h-5 text-neutral-500 group-open:rotate-180 transition-transform flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </summary>
            <p class="mt-4 text-neutral-600 leading-relaxed">
              Emergency calls outside regular business hours (7am-6pm Mon-Fri, 8am-2pm Sat) may have an additional service fee. We always provide upfront pricing before starting any work - no surprises.
            </p>
          </details>

          <details class="group bg-neutral-50 rounded-xl p-6">
            <summary class="flex items-center justify-between cursor-pointer list-none">
              <span class="font-semibold text-neutral-900 pr-4">What areas do you serve for emergency calls?</span>
              <svg class="w-5 h-5 text-neutral-500 group-open:rotate-180 transition-transform flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </summary>
            <p class="mt-4 text-neutral-600 leading-relaxed">
              We provide emergency services throughout Charlotte, Matthews, Waxhaw, Pineville, Monroe, Rock Hill, and surrounding areas within a 30-mile radius.
            </p>
          </details>
        </div>
      </div>
    </div>
  </section>

  <!-- Reviews -->
  <GoogleReviews title="What Our Emergency Customers Say" />

  <!-- Final CTA - Emergency focused -->
  <section class="py-16 lg:py-20 bg-gradient-to-br from-red-600 to-red-800">
    <div class="container">
      <div class="max-w-3xl mx-auto text-center">
        <h2 class="text-3xl lg:text-4xl font-heading font-bold text-white mb-4">
          Don't Wait - Get Help Now
        </h2>
        <p class="text-xl text-red-100 mb-8">
          Our emergency team is standing by 24/7. One call is all it takes.
        </p>
        <a
          href={phoneHref}
          class="btn bg-white text-red-600 hover:bg-red-50 text-xl px-12 py-5 shadow-xl"
          data-event="phone_click"
        >
          <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
          </svg>
          {phoneNumber}
        </a>
        <p class="mt-4 text-red-200 text-sm">
          Available 24 hours a day, 7 days a week
        </p>
      </div>
    </div>
  </section>
</BaseLayout>
